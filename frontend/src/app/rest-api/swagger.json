{"openapi":"3.0.0","info":{"title":"ALPR Management","description":"ALPR Management REST API documentation","version":"0.0.1"},"security":[],"servers":[{"url":"https://localhost:443","description":"Local server"}],"paths":{"/auth/signin":{"post":{"tags":["Authentication"],"summary":"Sign in a user","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SigninRequest"}}}},"responses":{"200":{"description":"Successful login","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SigninResponse"}}}},"401":{"description":"Unauthorized"}}}},"/auth/signup":{"post":{"tags":["Authentication"],"summary":"Register a new user","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignupRequest"}}}},"responses":{"201":{"description":"User created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignupResponse"}}}},"400":{"description":"Invalid input"}}}},"/auth/change-password":{"post":{"tags":["Authentication"],"summary":"Change user password","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChangePasswordRequest"}}}},"responses":{"200":{"description":"Password change successful","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChangePasswordResponse"}}}},"400":{"description":"Invalid input or password"}}}},"/api/healthcheck":{"get":{"tags":["Healthcheck"],"summary":"Health Check","security":[{"bearerAuth":[]}],"description":"Responds if the app is up and running","responses":{"200":{"description":"App is up and running"},"400":{"description":"Invalid input"}}}},"/api/license-plates":{"get":{"tags":["LicensePlates"],"summary":"Get all valid license plates","security":[{"bearerAuth":[]}],"description":"Retrieve a list of all valid license plates","responses":{"200":{"description":"A list of license plates","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/LicensePlateResponse"}}}}},"400":{"description":"Invalid input"}}},"post":{"tags":["LicensePlates"],"summary":"Add a new license plate","security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LicensePlateRequest"}}}},"responses":{"201":{"description":"License plate created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LicensePlateCreateResponse"}}}},"400":{"description":"Invalid input"}}}},"/api/license-plates/{licensePlateId}":{"put":{"tags":["LicensePlates"],"summary":"Modify an existing license plate","security":[{"bearerAuth":[]}],"parameters":[{"name":"licensePlateId","in":"path","required":true,"description":"ID of the license plate to delete","schema":{"type":"string","format":"uuid"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LicensePlateRequest"}}}},"responses":{"200":{"description":"License plate updated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponse"}}}},"400":{"description":"Invalid input"},"404":{"description":"License plate not found"}}},"delete":{"tags":["LicensePlates"],"summary":"Delete a license plate by ID","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"licensePlateId","required":true,"description":"ID of the license plate to delete","schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"License plate deleted","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponse"}}}},"400":{"description":"Invalid input"},"404":{"description":"License plate not found"}}}},"/api/license-plates/archive":{"post":{"tags":["LicensePlates"],"summary":"Archive expired license plates","security":[{"bearerAuth":[]}],"description":"Move expired license plates to the archive","responses":{"200":{"description":"License plates archived","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponse"}}}},"400":{"description":"Invalid input"}}},"get":{"tags":["LicensePlates"],"summary":"Get archive license plates","security":[{"bearerAuth":[]}],"description":"Retrieve a list of all archived license plates","responses":{"200":{"description":"A list of license plates","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/LicensePlateResponse"}}}}},"400":{"description":"Invalid input"}}}}},"components":{"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}},"schemas":{"SigninRequest":{"type":"object","properties":{"username":{"type":"string","example":"johndoe"},"password":{"type":"string","example":"password123"}},"required":["username","password"]},"SigninResponse":{"type":"object","properties":{"message":{"type":"string","example":"User signed in successfully"},"token":{"type":"string","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."},"username":{"type":"string","example":"johndoe"},"firstName":{"type":"string","example":"John"},"lastName":{"type":"string","example":"Doe"},"role":{"type":"string","example":"user"}}},"SignupRequest":{"type":"object","properties":{"firstName":{"type":"string","example":"John"},"lastName":{"type":"string","example":"Doe"},"username":{"type":"string","example":"johndoe"},"password":{"type":"string","example":"password123"}},"required":["firstName","lastName","username","password"]},"SignupResponse":{"type":"object","properties":{"message":{"type":"string","example":"User created successfully"},"userId":{"type":"string","example":"12345"}}},"ChangePasswordRequest":{"type":"object","properties":{"username":{"type":"string","example":"johndoe"},"oldPassword":{"type":"string","example":"oldpassword123"},"newPassword":{"type":"string","example":"newpassword123"}},"required":["username","oldPassword","newPassword"]},"ChangePasswordResponse":{"type":"object","properties":{"message":{"type":"string","example":"Password changed successfully"}}},"LicensePlateResponse":{"type":"object","properties":{"id":{"type":"string","format":"uuid","example":"550e8400-e29b-41d4-a716-446655440000"},"licensePlate":{"type":"string","example":"ABC1234"},"validFrom":{"type":"string","format":"date","example":"2024-01-01"},"validTo":{"type":"string","format":"date","example":"2025-01-01"}}},"LicensePlateRequest":{"type":"object","properties":{"licensePlate":{"type":"string","example":"ABC1234"},"validFrom":{"type":"string","format":"date","example":"2024-01-01"},"validTo":{"type":"string","format":"date","example":"2025-01-01"}},"required":["licensePlate","validFrom","validTo"]},"LicensePlateCreateResponse":{"type":"object","properties":{"id":{"type":"string","format":"uuid","example":"550e8400-e29b-41d4-a716-446655440000"},"message":{"type":"string","example":"License plate created successfully"}}},"MessageResponse":{"type":"object","properties":{"message":{"type":"string","example":"Operation successful"}}}}}}
